<div class="page-container" [ngSwitch]="currentViewState">
  <app-menu-page
    *ngSwitchCase="viewStateEnum.MAIN"
    [config]="financeMenuPageConfig"
    (viewStateSelected)="onMenuOptionClicked($event)"
  ></app-menu-page>

  <div *ngSwitchCase="viewStateEnum.VIEW_INVOICES">
    <app-financial-doc-list
      [config]="this.invoiceListPageConfig"
      (itemClicked)="onInvoiceClicked($event)"
    ></app-financial-doc-list>
    <app-menu-page
      [config]="invoiceListMenuConfig"
      (viewStateSelected)="onMenuOptionClicked($event)"
    ></app-menu-page>
  </div>

  <app-doc-view
    *ngSwitchCase="viewStateEnum.INVOICE_DETAIL"
    [config]="invoiceDocViewConfig"
  ></app-doc-view>

  <div *ngSwitchCase="viewStateEnum.GENERATE_INVOICES">
    <div *ngIf="!isInvoiceGenerationComplete">
      Generating invoices - one moment
    </div>
    <div *ngIf="isInvoiceGenerationComplete">
      <div>Invoices generated</div>
      <button (click)="backToInvoiceList()">View invoices</button>
    </div>
  </div>

  <app-menu-page
    *ngSwitchCase="viewStateEnum.PAYMENTS"
    [config]="paymentMenuPageConfig"
    (viewStateSelected)="onMenuOptionClicked($event)"
  ></app-menu-page>

  <div *ngSwitchCase="viewStateEnum.VIEW_PAYMENTS">
    <div *ngFor="let payment of payments | keyvalue">
      <div *ngIf="!payment.value.voided" (click)="viewPayment(payment.key)">
        {{ payment.key }} {{ payment.value.date }}{{ payment.value.amount }}
      </div>
    </div>
    <button (click)="backToPaymentMenu()">Back to payment menu</button>
  </div>

  <div *ngSwitchCase="viewStateEnum.PAYMENT_DETAIL">
    <app-payments
      [currentPayment]="payments[currentPaymentID] || {}"
      (closed)="paymentDetailModalClosed()"
      (newPayment)="paymentCreated($event)"
      (editedPayment)="paymentEdited($event)"
      (voidPayment)="paymentVoided()"
    ></app-payments>
  </div>
</div>
